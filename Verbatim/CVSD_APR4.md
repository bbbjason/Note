為什麼要講這個DefaultLoginDirection的意思就是
它其實跟PowerPlan有關
我們在畫PowerPlan的時候
其實要盡量去滿足這樣子的規則
因為假設我們在做PowerPlan的時候
它的DefaultDirection跟Default的不一樣
比如說我這邊用一個Metal1的shape卡在這個地方
那當它說它這個Metal1連進來的時候
它就被強迫一定要跳線 跳過去
但每一個經過這條線
每一個經過這一個shape的線都會需要這樣子做
就變成說它其實就卡在這個地方
所以使用DefaultDirection其實是一個滿重要的原則
然後接下來我們就繼續講到操作
PowerPlan其實主要分成三個部分
就是我們講PowerLin,PowerLin還有PowerShape
所以我們就先講操作的部分
然後產生PowerLin的視窗是AddLin的這個視窗
在這個視窗叫出來之後
我們大概就給它BDDVSS這兩條Net
因為一次我們就要做兩條線
所以就直接給兩條Net
然後要告訴它這兩條Lin這兩圈Lin
它在上下左右的Layer要用哪一層Layer
然後我們需要做出來的寬度是多寬
然後Spacing是多少都先填好
寬度就是那個Metal的寬度
就是Lin的寬度
然後Spacing就是Metal與Metal之間的Spacing
那按OK它就直接產生出這兩條Lin出來
那這兩圈Lin算是電流流進來之後
就會先接到這兩圈Lin上面
然後內部的元件到時候就要想辦法連接到這兩圈Lin
來取得電源
所以它算是我們電流流進來的第一級的結構
一般來說這一圈結構我們不會做得太細
因為我們不希望說它變成是整個PowerPlanet的Bottleneck
所以它通常都是要有一定的寬度
那一般來說是PowerLin的寬度
大概是要到230Mbps的寬度
可是這麼寬的Metal
230Mbps的Metal抵在入耳裡面
會要求我們在裡面挖Metal Slot
它會需要做一些伸縮空間
讓製造過程當中提高製造過程當中的良率
因為我可能在Metal上面可能有一些VR
在製作上已經製作好了
然後在製造過程當中可能需要加熱
加熱的時候會造成這條Metal線它會伸長或縮短
就可能把這些VR扯斷
那也有可能在使用過程當中因為溫度變高
也有可能會造成晶片的良率變差
因為它的使用壽命變短
因此那個YMetal中間需要挖一些Metal Slot
而挖Metal Slot其實有固定的抵在入耳
那Innoos它這邊就不做Metal Slot的做法
它替代的做法是
既然我們不能一次做這麼寬的Metal
因為太寬的Metal就需要挖Metal Slot
那我們就做兩條比較細的Metal
比如說如果我Total需要的是20Mbps的拋率
那我就不要直接做20Mbps的拋率
我們就做兩條10Mbps的拋率
這樣子一樣可以這整個Metal的
我的VDD的寬度才還是一樣加起來是20Mbps
但是我們就可以避掉Metal Slot的問題
所以這樣的做法我們叫Wire Group
所以在Advanced這一頁有個Wire Group
我們再去把它打開來然後設定它
填二一次就是做出兩條
那填三就是一次做出三條
那有了Wire Group之後我們又發現
其實我們可以做Interleaver
就VDD和VSS我們可以讓它交錯產生
一般來說就是
我們通常加Wire Group
就是直接做Interleaver就對了
就是拋率的部分
然後再現在我們講到Blocked Rune
Blocked Rune的作用是在一個Block周圍產生出來的
這個拋率我們就叫做Blocked Rune
那它的目的是為了讓這個Block的Power
比較容易連接
就這個Block的Power Pin它是長在這個位置
那如果沒有這個Rune的話
它在連線的時候就會需要拉到很遠的地方
然後它才接得到Power
所以為了讓它比較好連接
我們就先做這個Blocked Rune
然後產生Blocked Rune的那個視窗
跟產生Power Rune的視窗是同一個視窗
它是Add Rune的視窗
然後它在RuneHab這邊是選擇Blocked Rune
那我們一樣可以去設定說
我要在上下左右
這個Block上面的Metal
上下左右的Metal要用來Layer
然後它的寬度是多寬
Spacing是多少
在Advanced這一頁這裡可以設定說
這個Block產生出來的Power Rune
它要什麼樣的形狀
所以我們就可以設定
我希望在這Block的右邊還有底下做Power Rune
然後右邊這個要往上延伸連接到Power Rune
底下這個要往左邊延伸到Power Rune
就產生出這樣的形狀出來
這個是Blocked Rune
那這些都是操作
基本上操作應該都還蠻好理解的
那我們先把操作都講完
之後再來講整個Power Rune的概念
所以我們Blocked Rune講完
接下來我們就再講到Strip
Strip的意思就是
直接穿過Core Area的這種一長條的線
叫Strip
它可能是垂直線又可能是垂直水平線
它的目的是要解決IR Drop
其實上禮拜也有提到過
Sale在裡面的時候
它的電流主要是靠Fallout Pin連進去
當Sale的數量太多
因為這個Low可能很長
太多以後需要流經過Fallout Pin的電流太大
所以它可能電流流經過Fallout Pin上面的阻抗之後
變成是電壓降
所以原本在外面是1V的電壓
流到中間的時候可能就剩下0.9V
所以我們就叫IR Drop
那IR Drop必須要解決
IR Drop其實影響到品質
Performance預期原本可以跑100Mbps
結果我們可能要加壓到更高的電壓
它才跑得到
假設一個底在裡面有IR Drop的問題的話
它變成是在同一個Chip上面Sale的特性
都變得不一致了
那解決IR Drop的方式就是加Ship
我們會加這些Ship
讓電流能夠藉由這些Ship
送到Core的中間去
不要讓所有的電流
都是透過Fallout Pin連過去
就讓Ship能夠分攤這些電流
那介面上的操作一樣是
告訴他我要做VDD,VSS
然後要用哪一層Layer
然後方向是要做垂直的Ship
還是做水平的Ship
寬度是多寬呢?按Spacing
寬度的指的是一條Ship的Metal寬度
那Spacing是Metal-Metal之間的Spacing
那另外一個問題是
到底要做多少Ship
它是用Set To Set Descent來控制
那這邊填2.8的意思就是
從Core的左邊開始
往右邊算
每個2.8 Micro就做一組Ship
一直到全部都做不下為止
這個叫Set To Set Descent
另外一個設定是在底下這裡
最底下這邊有一個
最左邊和最右邊進空的設定
因為PowerShip主要是為了要解決
內部原件的IR Drop的問題
所以PowerShip是
不用坐在太邊邊的地方
所以最左邊和最右邊
它本身沒有IR Drop的問題
所以它其實不需要加PowerShip
所以我們可以在這裡
設定它的起始點和終點
指的是
從右邊算過來多少距離是進空的
然後左邊過來多少距離是進空的
就不做Ship的意思
就是這兩個意思
那我們再繼續哦
這邊接下來講到的是
Block的Power連接
Block的Power到底要怎麼連
其實要
跟這個Block的PowerPin
是怎麼製作的有關係
所以我們在做PowerPrint的時候
在做PowerPrint之前
應該要去研究一下
這個Block的PowerPin長什麼樣
因為每個Block的
製作者都是不同的製作人
所以它的PowerPin
可以用各種不同的做法來做
這邊是我們列出幾個
曾經看過的Block的PowerPin
左上角這一個
Block就是
我們前面有提到過
這個Block它自己帶兩圈power
像這樣子的Block
它自己已經帶兩圈power
那我們就不需要
再額外幫它長成產生
不需要額外再幫它長一圈powering出來
其實變成是多餘的
所以對於這種Block
我們在連接它的Power
主要就是靠Strip去連線
我們在讓Strip能夠
從這個Block上面穿過去
那如果在長Strip的時候
當它發現說
這個Net跟底下的
BlockPin的Net是同一條Net
它就會自動把它連接起來
所以這個是這種
GreenType的Block的
Power的連線方式
那第二種Block
我們是左下角這個Type
就是PinType的Block
就是這個Block
它出Pin的方式
它是在Block的周邊出Pin
它也許不只出兩個Pin
也許出很多個Pin
也許是四周都有
不管怎樣它就是從Block的周邊出
出這種PowerPin
那對於這樣子Block
因為這個Pin如果它要連線的時候
它旁邊沒有PowerLine的話
它可能需要連到比較遠的地方
才連接得到
所以我們這時候就是先加
先加一個BlockGreen在它周圍
這樣子它在連PowerPin的時候
才會比較容易連一些
那再下來
這一種叫RealType
就是右上角這個
這個Block
它的PowerPin
它是直接穿過
自己的一個Pin
這個Pin它直接是
從上穿過這個Block
連到下面
這個就是它的Pin的位置
就是現在畫的紅色的地方
就是它的Pin的位置
那它是一個實物Pin
就是直接穿從上到下
或是從左到右
穿越過去的這種Pin我們叫實物Pin
對於這種Block的PowerPin
我們的做法是
我們的Strap直接長在
它原本的Pin的上面
就直接根據它原本Pin的形狀
把它延伸出去
就變成說
這個底下的Strap跟
這個Block裡面的PowerPin
就整個是融合在一起
它整個變成是
一體的形狀
直接把這個Pin的方向
再把它延伸出去
所以這個功能是在Innovate
這裡它叫做
PowerGroundPin
它可以去判斷說
這個Block的Pin的位置在哪裡
然後它會從這個Pin再往外再延伸
不管是上下或者是左右
都可以這樣做
那最後一種
那個RingBlock的
Power的狀態
一樣是RealType
那只是說這個時候它的Pin
它是一個水平的Pin
它一樣是穿過
穿透這個Block
但是它現在是水平的
水平的Pin
水平的書Pin
就對於這種Pin我們的連接方式
一樣是想辦法
讓我們的PowerStrap
我們在做
Top的Strap的時候
一樣是讓它穿過
這個Block的上方
那Tool它在長這個Strap的時候
它一樣發現說
底下的那個Pin跟這個Strap是同條
他自己就會把V
打上去
所以這個RealType
就是右下角的這個
做法跟左上角那個RingType
的形狀其實做法其實是比較像
就我其實不管這個
Block的位置我只要
在我只要
想辦法讓這個PowerStrap能夠穿過
從這個
從這個Block上面跨越過去
那Tool它自己就會幫我們
把這個Block Pin把它連接起來
然後我們在後面的製程
叫2-8以後看到的
Block
大部分的撞骨
大部分的Block都是用下面這種形
用這種形式
我想
比較主要的原因
是因為它很方便使用
因為這個Block
它可以隨便擺在什麼地方
那我可以不用管它
不管Block在哪裡我就直接長
PowerStrap
那只要PowerStrap有摸到
有摸到那個Block的上面
它那個Block自己就會被連接起來
所以比較不用去
額外設計那個
Block Ring的位置
我可以很
任意的去擺放那些SRAM
那使用上也很方便
PowerPin上其實會比較
比較容易設計
那這可能是
後面的製程看到的那個Block
大部分都是這樣子的狀態
然後有人
可能會問說
右上角這個Block跟左
右下角這個Block
它們是不是很類似
其實很類似沒錯
只是說
在後面的製程的時候
Block本身是不能
轉90度的
就從2-8以後的製程
因為MOS有固定的方向
所以SRAM是不能
轉90度
那當Layout裡面畫垂直線
就是要當垂直線處理
然後Layout裡面畫水平線就是要當水平線處理
就沒辦法
旋轉90度
如果是比較早的製程就可以
你可以選擇要不要轉90度
來做
再下來再講到SRAM
SRAM的
SRAM它的工作
就是把剛才提到的那些
PowerPlan連接到
連接到那個
元件的PIN上面
這工作就叫SRAM
叫做SpecialNet的Low Term
比如說
這個PAD連接到
上面的這個連線
它就是靠SRAM來做
它是在呼叫SRAM以後的
PAD PIN的功能
它執行PAD PIN功能把它連接起來
然後Block的這個PIN
連接到錄音上面
這個叫做Block PIN
就一樣是呼叫Block PIN的功能
就是要把SRAM叫出來
然後打勾
它就會執行這部分
再來是File PIN
File PIN指的是Standard Cell的PIN
就我們看過好幾次了
Standard Cell它的PIN
的延伸最底下
Metal 1的延伸叫做File PIN
它也是用SRAM去連線的
Folding Strip的意思是說
PowerPlan它常常會互相衝突
我有可能說在做Strip的時候
有一條Strip它要從上面連接下來
然後它想要連接到
外面的這圈錄
可是
前面這個部分已經被一個
PAD PIN卡住了
所以這條Strip它就沒辦法
連接到外面的錄音
因為它們是不同條內的
其中一條VDE另外一條是VSS
所以它就沒辦法
連出來
這時候它可能就會斷在這個位置
這條Strip在做的時候
它可能就會在這邊打個叉叉
斷在這裡
如果我們的前面做Strip的時候
有這種問題
在SRAM這裡就可以要求它把
這些Folding Strip
連接起來
它會想辦法用繞線的方式
再把它連接起來
這叫Folding Strip
然後這邊有個PAD RIN
指的是連接PAD和
PAD之間的Power PIN
這個功能基本上是
沒有用了
因為我們現在流程上是用
Feeder的方式去連線
這個功能雖然
Innovus這邊還是
有這個功能但是基本上它是
沒有用了
還有一個Secondary Power PIN
指的是Level Shift
的PIN
它其實是有兩組Power
其中一組是在Rail上面
另外一組是在
中間就是Sale中間
這種PIN
叫做Secondary Power Pin
所以這個算是
當我們要連接這些點的時候
就是呼叫SLAW去執行
只是說我們前面
講到說我們有Power PIN
有做Power RIN、BRAW RIN或Strip
然後有SLAW
但是實際上
在操作的時候它其實
是有一些順序上的關係
主要原因
是因為
Power PIN它常常自己會打架
因為Power PIN有
VDD和VSS
有這兩條線
VDD和VSS常常會互相打架
它們常常會搶
同樣一個位置
比如說我們剛才看到說
這個Ship它要連接到這個地方
然後Pad PIN也要連接到裡面
Ship要連接到外面
這時候先做的人
就可以做上去
就先執行的那個人
他就可以連接上去
那後執行的人就連不上去
他就必須要繞道
所以我們在做Power PIN的時候
這種衝突是沒辦法
完全避免
它多少都會碰到這種問題
但是我們可以儘量
減少這種衝突
或者說就算它碰到這種衝突
它其實也不是這麼重要
我們可以減少它的重要性
那要怎麼做呢
整個概念上就是說
我們要用
比較寬的Net先做
然後
比較重要的Net也要先做
那通常比較寬的Metal
也是比較重要的Net
因此整個Power PIN一開始的時候
第一開始我們當然會先做Powering
因為所有的人都要連接到Powering
所以Powering這個
必須要第一個執行
這個大概沒有問題
那做完Powering之後
我們並不是馬上
就先去做Block PIN
我們其實是先把
PAD PIN先連接起來
所以這個時候我們就要先呼叫S-Loud
去連接這些PAD PIN
因為PAD PIN算是最重要的
我一定要先把電流送到Win上面
那裡面做的事情才有意義
那尤其是
PAD的資源其實很有限
我們常常會有
那個PAD不夠用的狀況
所以PAD連出來的PIN
一定要完整的把它連出來
就把它完整的利用上去
這叫PAD PIN要先做
那PAD PIN連完之後
接下來才再處理這個Block
所以處理這個Block
我們就會把Block Win
再先把它長出來
長出來以後
再用
一樣用S-Loud去連接這個Block
的Block PIN
所以
就是要
先把這些東西都先把它連起來
因為它算是
我們如果沒有直接先把它做起來
萬一它被卡住
到時候這個Block就麻煩了
那Block PIN
連完以後
再來就是處理這些Standard Sale
Standard Sale的
我們昨天
上禮拜有提到過
它其實是靠Follow PIN
然後在Standard Sale
的RAIL上下
其實會有VDD
或是VSS的PIN
串起來連接所有Standard Sale
但是在流程
上面我們並不是
先做Follow PIN
實際上那個Sale
也是不存在的
設計做到這個步驟的時候
Sale是不存在
那我們也不是馬上去執行Follow PIN
因為Follow PIN一旦被
做上去之後
其他的Follow PIN就很難做
因為Follow PIN的數量很多
密密麻麻的
然後它很容易把其他部分
的Follow PIN卡住
所以我們會把這個Follow PIN
留到最後才做
先跳過Follow PIN的位置
我們會先做Follow STRIP
所以Strip會先做
先
OK
Strip我們會先做
垂直Strip
實際上只有一排垂直Strip
是不夠的
水瓶的泡
從Pay的送進來之後
它還是得經過Follow PIN
才能夠送到裡面去
或者是它可能需要
繞一大圈才有辦法去
送到Strip裡面去
所以
只有垂直Strip其實
不夠還要再做水瓶Strip
就讓不管是左邊來的電流
或是右邊或是上下來的電流
都能夠很快速的
把電流送到Strip裡面來
那這樣子就OK了嗎
其實還不夠
安雅做法還是太嚴重
就製程它每進步一個
時代在裡面
的原件的數量就會變double
所以我們製程從
90奈米到65到
40到28到16
總共五個直撐的眼鏡
那裡面的原件數量
就變成32倍的原件數量
所以我在90做了
這個Pulse Strip
也許足夠
但是在後面的製程就不夠了
因為我裡面的Sale的數量
其實變這麼多倍了
那要怎麼樣再去加強
這個Pulse Strip
一種當然是要把原本Strip的密度
再加的更多
我可能把中間的空氣加更多的Strip
這當然是一種做法
但是
把整層Metal的
Layer全部都做成Pulse
變成說那層Layer就沒有
它的訊號線就沒辦法繞線
所以這也不是一個辦法
因此我們
能夠做的其實就是往上
堆疊
現在
綠色這個是最上層的Metal
那我們希望說在綠色的上面
再疊一層垂直的Strip
這樣就可以讓垂直的
Strip能夠增加
更多的電流
的運載量
所以我需要在綠色上面
再疊一層
可是在疊這個
垂直的Strip之前我們先看到
一個問題是
在Ring上面這個地方其實是不平坦的
就上面的
上下
這兩邊的Ring
黃色是比橘色的Ring
還要高的部分
所以實際上在這個Ring的上面
這個地方其實是凸起來
的部分就我的黃色比橘色
還要高嘛所以這個
地方其實是凸起來的部分
那如果直接加一個垂直的Strip
在上面的話有可能因為
它們的Layer剛好跟底下不一樣
變成說
加進去的那個垂直Strip它
沒辦法很順利的
先打到Ring上面去
因此我們要加
垂直Strip之前就要先把這個Ring
再疊高一層把它鋪平
就我們還要再用
這個Ring的上面再
鋪一層Ring讓這個
地方是平坦的平坦狀態
平坦狀態
到時候我在做垂直Strip
再加上去的時候它才能夠很
完整的連接上去
也就是說
因為
Strip不只是
兩層的關係
Strip也很多層的關係
所以變成說我們的Ring也跟著
要做很多層
這樣子它在連線上才能夠很完整的連接
它就有點像是
在堆積木一樣
堆積木我們在堆積木
蓋房子一樣
我要讓它能夠堆得夠緊
結構要夠完整
我的垂直的積木和水平積木
要夠穩固的話
那在
每一個交接的地方它就必須要
跨接上去
要放垂直積木的時候
水平的積木就要
跟著疊上去
這樣子它在接線上
才能夠一個接一個連接
的完整
所以這個就是
我要再往上
疊上去
所以當然我們可能
就可以再做水平的Strip
現在我希望在
梗上面再做一層水平Strip
所以左右兩邊就一樣
再疊Layer上去
Ring繼續再疊上去
在梗上面才可以去
做水平的Strip
才可以把它蓋上去
然後
所有的
我們其實是
從底下一直往上疊
一直疊到最高層的Layer
盡可能的把它疊到最高層的Layer
因為最高層的Layer
它通常會有
阻抗比較大的好處
比較高的Layer在
製程上面它通常
它的厚度比較厚
大部分都是3倍以上的厚度
所以
所以它可以承載的電流是大很多
比起底下的Layer
來說大很多
因此的話我們其實是
盡量把它疊到最上層
這樣子我們的Power的
AreaDrop可以做到最大幅度的
降低
疊完以後最後才去
做FilePin
FilePin就是底下的這些
SnareCell的Pin
再真正把它疊
長出來了
那FilePin在做的時候
它的那個VR
其實我們是希望它能夠
長滿
就它能夠連接的那些連線
我們希望它能夠盡量的
每層Layer都連接到
就
整個Power的結構上
可以連的部分我們就盡量把它連上去
那這也是為什麼FilePin要
擺在最後做的原因
假設我一開始就去把FilePin
長上去的話
這些連線的點
它就會阻擋這些PowerStrip
到時候Strip在連的時候就
沒辦法連得很好
因此這個FilePin結局
就是會放在最後才做
那整個PowerPin的
架構它的概念上是說
我們的電流從外面送進來
從PAD送進來
PAD送進來之後
它會先流到最上層的Layer
它會先往上延提到最上面的Layer
因為這是最上面Layer的主抗最低
所以它Default
電流本來就會往
電阻比較低的方向走
所以它會先跑到最上層的Layer
那從最上層Layer送到
中間之後再透過
這些VR一層一層的把它
再留下
再送到底層去
所以就透過這些VR再
慢慢的把它壓到
下面的Metal1
然後StandardSale的位置
整個概念其實是
這樣子的概念
所以
從40以後
我們其實是建議大家
應該說90之後大家
盡量就是朝這方向做
在做PowerMesh的時候
盡量就是
每一層都把它做上去
只做一層兩層就可以的話
就是盡量把它都長上去
然後再下來這兩張圖
我其實
是要講兩件事情
第一件事情是
PowerTrip
我們有垂直的Trip和
有水平的Trip
但是從底下往上看的話
垂直的Trip一定要先做
原因是因為
FilePin本身是水平的線
FilePin在底下
它本身是水平線
要連接水平線就必須
要靠垂直線去連接
假設我們沒有
先用
就是從底下往上看
第一層不是垂直的Trip
而是水平的Trip
就是下頁這張圖影片
假設我們是直接先做
水平的Trip
就會發生一個狀況是
可能有某一
某一條的FilePin
某一條的PowerRail
某一個VDD的Net
它被另外一個VSSNet
完全的壓在底下
因為它們是
同樣都是水平線
所以這兩條Net它是
不同的Net
那它被完全的壓在底下
造成說對底下的
這個VDD它就永遠都沒有機會
連接到上面的這個VDD
所以這個是錯誤的
就
通常我們
沒有發生過就沒有犯過錯
我們通常就不會發現
這個問題啦
但是我們是曾經碰過這種
狀況所以大家知道
在長Trip的時候就一定要先長
垂直Trip才做水平
Trip
千萬不要先長水平Trip
這是第一件要講的
第二件要講的是
我們在
連接FilePin的這些VR
這些VR在
Routing上面其實是障礙物的意思
這些VR
的數量很多
在繞線的時候是需要避開
這些VR的連接
它是一直堆疊起來而且
密度很高
這些VR的數量
很多
繞線要避開這些VR才能夠
做繞線
所以
它其實算是一個Bucket
的一個物件
對繞線來說
我們的Trip有
垂直Trip
有水平的Trip
水平Trip上面我們可能還會
再疊一個垂直Trip
假設我這個地方再疊一個
更高層的垂直Trip
那這時候這個更高層的
這個垂直Trip就不要再
不要再打VR打到FilePin
因為這個
會造成太多的這個
這種VR的結構
它會讓Routing的
Resource都被
讓Routing很難做事
也就是說
這些VR我們只要
跟最底層
的那個Trip連接就好了
比如說Metal 4
1,2,3,4
現在這個是Metal 4
現在這個結構來說
Metal 1這個FilePin
我只要讓它跟Metal 4連線就好了
它就不要再去
跟Metal 6連接
這樣子
在這邊的
Routing Resource的
損耗就會變比較少
這個是
這兩張圖我第二個想像的部分
所以這一頁
其實我們剛剛也大概提差不多了
這些算是
一些整理
第一個是
我們要看這個PowerPlan
它到底
它的運送電流的能力有多大
我們其實看的是Density
首先
先強調的
一點是說
在整個PowerPlan裡面
最重要的
結構
其實是PowerMesh
就把電流
從外面送到裡面
送到Trip裡面的主要結構
其實是PowerMesh
所以PowerMesh是最重要的
我們Rin大概固定
就是30 microns的寬度
不管底在大小它其實都是固定30 microns
裡面的Mesh
我們是希望能夠做到
Density能夠做到越密越好
這樣它的能夠承載的電流
就能夠承載比較多
所以我們主要就看Density
所謂的Density的意思就是說
這些PowerPlan
就是PowerTrip
佔整個面積的比例
比如說
我SetToSetDistance
如果是10 microns
然後這兩條Rin加起來的寬度
如果是1 microns
那這個PowerTrip
的Density大概就是
十分之一的Density
所以我們要看
它到底可以送多少電流
主要是看它的Density的密度
越密的話它能夠送的電流
當然是越多
然後
要解決IR Drop的問題
當然就是把Density提高
或者是我們在做PowerPlan的時候
Rin的
往上疊
盡量的把它疊到最高層的Layer
然後相同的Metal Density
還有另外一個狀況是
我們可能可以用很寬的Metal
比如說
我可以用5 microns的Metal Spacing
兩個5 microns的Metal Spacing
然後SetToSetDistance
如果設成是100 microns
這時候它的密度是
就是十分之一的密度
那我也可以用
0.5 microns 0.5 microns的
寬度的Metal
的Width
然後SetToSetDistance是
10 microns
這樣子它的Density一樣也是十分之一
我們其實有兩種選擇
一種是用很寬的Metal
然後很大的Spacing
另外一種選擇是用
比較細的Metal
然後
Spacing比較小的這種做法
它們是有相同的密度
但是我們會比較傾向
後者的做法
就是比較細的Metal的做法
原因是因為SetToSetDistance
如果設得太大
變成說IR Drop就會掉到最底層
內而來
如果我們這邊的距離太寬
就100 microns
那變成說主要的IR Drop會
因為底下的Metal
寬度不夠的關係
所以它會掉到底下
所以我們會比較傾向說
把這個密度
底下這個距離不要太寬
比如說可能做到10 microns
的SetToSetDistance
甚至更小的SetToSetDistance
因此這個就是
這邊這一頁講的
主要是看Density來調整它的
電流的流量
我們會用SetToSetDistance
去調整它的
Strip的密度
就Width和SetToSetDistance
去調整它的密度
那我們比較傾向說
用比較細的Metal
然後頻率比較高的
這種做法來做
PowerPlan
這樣子其實不管是在
Power的運算
不管是在IR Drop
或者是說在Louding上
其實這種做法
都會比較好
最下面這個是
我們是從Metal式開始做Strip
然後我們在連接PowerPlan的時候
就只要
只有最底下
那一層Layer
只有最底下那個Strip要跟PowerPlan連接
其他的Layer
就只要跟自己上下兩層連接
就好
我們其實要盡量減少
這種Vir
或是說這邊的Vir所造成的
Louding
Louding Resource的損耗
我們希望說把這個損耗降到最低
所以在連線的時候
其實就只要
最底層的這個Layer
跟底下的Vir跟連接就好了
就不要連到太多
不然的話Louding就不夠用了
PowerPlan其實講了蠻多東西
接下來我們就直接進到PressMap
PressMap這邊
它操作上其實很單純
就是
叫出這個GUI出來
然後按OK
它就是PressMap
它GUI是從這個地方叫出來的
但是這個GUI有點舊
在Innovus其實它有一個
比較新的指令叫做PressOptDesign
它是把PressMap
跟PreciseTSOptimize
融在一起
所以我們會建議大家直接
用新的指令
這樣子它在做PressMap
過程當中就順便做Optimize
就可以節省我們
執行的時間執行的速度
所以這個是
Refer直接下指令來執行
那Press的意思就是
把Sale放到Layer上面這個就叫Press
所以這個不用再解釋了
我們在Press之前
其實可能會先去做一些設定
那這幾個算是必要的設定
不是說必要設定
我們可能做了設定
第一個是ProcessNode
這個上禮拜其實有講到
就是
PressMap的時候它要做Timing計算
那Timing計算的時候
需要做Ethration
所以比較
高階制程的Ethration
它需要Ethrate出比較精密的結果
那比較低的制程
需要它Ethration就可以
它Ethration就可以不用這麼詳細
所以設定ProcessNode
的意思是說
在它影響到Ethration的時候
的精密度
我們基本上就是只要看
自己現在的制程是哪一個制程
就把它設那個數字就可以了
然後接下來我們要設
AnesisType
AnesisType我們要把它設成
OCV的Type這是規定的
因為
Tool它在後面的
版本它都規定說
它在Post到的時候
強迫要使用OCV的分析
的Type所以我們最好就是
一開始就把它設成OCV的
模式
這一行大家
就固定就下這個指令就對了
那至於說什麼叫OCV
我們時間不夠
所以就不解釋這個
大家可以自己去找找看
反正這一款指令就是
必要一定要下的
然後底下有個
Massive Identity的設定
這個意思是說
假設我的Core Area很大
實際上我的Standard
Sale的數量很少
使用率很低
雖然說Sale的數量很少
可是Tool
它還是會把所有的Sale
其中在一小區域
擺放因為Sale擺得
比較密的時候它
Routing上或者說它的
RC的
數值會比較漂亮
所以Tool它不會把這些Sale
打得很散
有些時候如果我們發現
它流程做到
後面之後發現說它局部
的區域不夠用
有些問題它可能是因為Local
Density太高所造成的
Timing問題
這時候我們就可以回到Participant這個階段
要求它在做Participant的時候
一開始就不要擺得太密
我可以要求它擺收的Density
不要超過某個Density的數值
要求它在擺的時候
可以再稍微擺散一點點
有可能就可以
直接解掉後面的
Condition的問題
最後這個是
Expand的Path Group
這個原因是因為
Tool它Default給我們的Report
是只有
REG2REG和REG2ClackGit
還有Default
Default它
不會給我們這種IN2R
或是I2R或是R2O
的Report
如果說我們希望它直接給我們
這種Report的話就在Participant之前
就要先把這個指令先下起來
告訴它說
先幫我們把這些
這些Group都先把它展開來
就不要把它歸類在
Default裡面
然後
Participant完以後
我們大概可以去
就要記得去加
Ti-Hi Title Sale
這個上禮拜也有提到過
Design裡面我們用到那種Ti-Hi Net
1P1這種Net
它在流程裡面
我們其實是用Ti-Hi
來連接
Ti-Hi Sale沒有任何的Input
它就只有一個固定的Output
這個Output就固定
Tool1P1的訊號出來
我們就會根據這個Sale的位置
Tool它自己會去找到
Sale位置然後再旁邊加上
Ti-Hi Sale把它連接起來
GI部分就是
這個GI
然後指令部分是下面的指令
所以
我們直接看指令這邊好了
在加Ti-Hi Sale的時候我們其實可以設定
一些Contrains
比如說可以設定說
一個Ti-Hi Sale它的
Meshima Fan Out
因為它的Fan Out可能不限一個
它可以同時Support好幾個Sale
所以可以設定它的Meshima Fan Out
可以設定它的Meshima Distance
就是它支持的範圍
就是多少距離之內的
範圍是它可以負責的範圍
這叫Meshima Distance
所以可以設定一些Contrains
就是它去要求它加
更多的Ti-Hi Sale
再來就是
指令說哪些Sale要被加進去
這個就是
真正把Sale加進去
的指令
然後
Placement完以後
我們其實就可以去做
Pre-CTS的
Timing了其實
Pre-CTS Timing
就把Timing Report叫出來
然後根據這個Design Stage
去看說
現在這個Design已經做到哪個階段
然後執行那個階段的
Timing Analysis
那為什麼要分階段
原因是因為不同的階段
不同的階段
Tool它在做Timing分析的時候
的行為會不大一樣
比如說
Pre-CTS階段的
Timing Analysis因為這時候
Clack區還沒長嘛
Clack就是會被當成是Ideal的Clack
那對Post-CTS
對Post-CTS來說
它的Clack
就是Real的Clack
所以它們的那個行為會
參考的那個資訊會不一樣
然後實際上
Extraction的Model或是
Timing Delay Calculation的Model
也會不一樣
就越後面的階段
它的Delay分析的
模型就會變得比較複雜
因此我們對使用者來說
我們就只要看說我現在
到底是哪個階段的分析
就選擇那個階段就對了
Timing Analysis
做完之後我們其實就會看到
Timing分析完的結果
它會直接在Terminal上面
就會看到這個畫面
那這裡它會
我們主要要看的是這個字
Overall的WNS
WNS的意思就是
Worst的negative slack
最差的
slack最差的那條線的slack
我們希望看到的
這個字是正的
那如果是負的就表示是
它有timing violation的問題
那這個Category
這個群組它是All的群組
它實際上是右邊這些群組
R2R或是R2Clack
或是I2R
或是R2J
最差的那一個
就最差的那一個
那一個字就是會放
被放在All的這個數字
所以其實我們的目的就是
希望看到這個字是正的
然後底下會有一個
DRV的Rule
DRV的Rule的意思是說
Library在
Sale library在提供
Sale的delay
它其實是一個表格
它是用input全息線
和output components
組合起來的一個
二維的table
假設說實際上在
layout這邊的output loading
比這邊的table
比這邊的output loading
比這個表格的output loading
還要更大
比如它可能是在某一個位置的話
那這時候就表示說
它這時候就表示說它違反這個
Meshima Capsense的DRV的Rule
因為
當超出這個表格範圍
如果它要用外插的方式去找
這一邊的數字
就是這個表格之外的數字
那就會影響到分析的精確度
它的精確度會比較差
因此我們可以的話
就是盡量讓這個DRV的Rule
也能夠滿足
這邊希望看到都是0
然後比較
更detail的資訊
是在那個
這個目錄裡面
我們可能就可以到這個目錄裡面
去看到它其實有個
summary file
就是現在看到的這個summary的內容
那detail的內容
就不同的group
這些R2R或是R2C
或是R2R的這些
這些Path Group它其實會放在
各自
各自的那個檔案裡面
所以我們其實可以從檔案裡面去看到
每一個部分的那個
比較詳細的Paths的資訊
那DRV的資訊
就是這裡看到的Meshmark
Covsense或是Meshmark全息訊的DRV
的Net
假設有違反Net違反這些
DRV的Net它也會放在
這些全息訊或是
Covsense的檔案裡面
就要去從這些檔案裡面
去找到說到底是
哪些Net違反MeshmarkCovsense
或是Meshmark全息訊的RUO
這是
Timeline Series
嗯
一般來說有Timeline Series之後
我們大概就會先去做Artemize
所以Artemize
的選項
就一樣是叫做
Artemize的視窗
那我們可以選擇我要做的是
哪個Design Stage的Artemize
跟前面那個Timeline Series的理由
一樣
不同階段的Artemize
其實它可以做的事情是不一樣的
就它
工作的
加Buffer它可能可以用加Buffer
或是改變Sale的位置
或者是改變電路的結構
方式去做Artemize
但是不同階段的Artemize
它的做法會不一樣
那對User來說
我們就只要選擇說我現在要做哪個Stage
RUO的Artemize就可以了
就選好然後直接按OK就可以了
那DRV的Artemize
也是Default是同樣的
OK
那
我們時間
就到了
所以今天
就先上課到這裡好了
那
